# 운동별 임계값(초기값) 추천표 & 개인 캘리브레이션 절차 (30초)

본 문서는 **웹캠 + MediaPipe(Pose/Hands)** 환경에서 재활·운동 앱 MVP에 바로 사용할 수 있는  
① **운동별 임계값 초기 seed 값**과  
② **개인별 자동 캘리브레이션(약 30초)** 절차를 정의한다.

> ⚠️ 모든 임계값은 “초기값(seed)”이며, 실제 서비스에서는 **개인 ROM/통증/카메라 높이**에 따라 자동 보정한다.

---

## 1. 전신 운동(Pose) 임계값 추천표

### 1-1. 하체

| 운동 | 핵심 지표 | DOWN(초기) | UP(초기) | 비고 |
|----|---------|-----------|---------|-----|
| squat | 무릎각(°) | >160 | <100 | 재활용 하프스쿼트, completionThreshold=130, returnThreshold=135 |
| wall_squat | 무릎각(°) | 110 | 80 | **홀드 구간** |
| chair_stand | hip.y-knee.y | >0.08 | <0.02 | y축 기준, 정규화 필요 |
| straight_leg_raise | hip.y-ankle.y | <0.02 | >0.10 | 반복/홀드 모두 가능 |
| standing_march_slow | hip.y-knee.y | <0.02 | >0.10 | 좌우 교대 |
| seated_knee_lift | hip.y-knee.y | <0.02 | >0.08 | 상체 기울기 보정 |

---

### 1-2. 상체

| 운동 | 핵심 지표 | DOWN | UP | 보조 지표 |
|----|---------|------|----|---------|
| standing_arm_raise_front | 손목-어깨(y) | <0.02 | >0.12 | 팔꿈치각 >150° |
| shoulder_abduction | |wr.x-sh.x| | <0.05 | >0.15 | 팔꿈치각 |
| elbow_flexion | 팔꿈치각(°) | >160 | <50 | 상완 고정, completionThreshold=75, returnThreshold=140 |
| wall_push | 팔꿈치각(°) | >150 | <90 | 체간 기울기 |

---

### 1-3. 코어/체간

| 운동 | 지표 | 목표 범위 | 판정 |
|----|----|---------|-----|
| seated_core_hold | 어깨-엉덩이 x차 | <0.03 | 홀드 |
| standing_anti_extension_hold | 체간 기울기 | 개인 기준 ±10% | 홀드 |
| standing_arm_raise_core | 체간 sway | <0.05 | 감점 |
| bridge | 힙 상승량 | >0.08 | 홀드/반복 |

---

## 2. 손 재활(Hands) 임계값 추천표

| 운동 | 지표 | 성공 기준 | 비고 |
|----|----|---------|-----|
| thumb_opposition | 엄지-손끝 거리 | <0.25 | 손바닥폭 정규화 |
| finger_spread | 평균 벌림 | >0.30 | 개인 ROM 보정 |
| finger_flexion | 굴곡 지수 | >0.70 | 상대값 |
| grip_squeeze | 굴곡 지수 | >0.75 | **악력 아님** |
| pinch_hold | 엄지-검지 거리 | <0.20 | N초 유지 |
| finger_tap_sequence | 순서 성공 | 오류=0 | 속도보다 정확 |
| wrist_flexion | 2D 각도 | 개인 최대의 70% | 근사치 |

---

## 3. 개인 캘리브레이션 절차 (약 30초)

### Step 1. 중립자세 캡처 (5초)
- 서거나 앉아서 **편안한 기본자세**
- 기준값 저장:
  - 무릎각, 팔꿈치각
  - 손목/어깨 y좌표
  - 손바닥 폭(hand scale)

---

### Step 2. 편안한 최대 가동범위(ROM) 측정 (15초)
- 통증 없는 범위에서 **최대 2~3회**
- 각 운동별:
  - 최소값(min), 최대값(max) 기록
- 예:
  - 팔꿈치 굽힘: 55° ~ 155°
  - 손가락 벌림: 0.18 ~ 0.42

---

### Step 3. 개인 임계값 자동 설정 (10초)
- 공식 예시:
```text
UP = min + 0.7 × (max - min)
DOWN = min + 0.2 × (max - min)
```
- 통증 보고(VAS ≥5) 시:
  - UP 임계값을 10~20% 보수적으로 축소

---

## 4. 실무 팁
- 첫 세션은 **“점수보다 캘리브레이션 성공”**을 목표로 설계
- 임계값은 **세션 종료 시 EMA 방식으로 천천히 업데이트**
